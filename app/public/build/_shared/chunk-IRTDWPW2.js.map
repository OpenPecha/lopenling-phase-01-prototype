{
  "version": 3,
  "sources": ["empty-module:~/services/getText.server", "../../../app/components/Vote.tsx", "../../../app/components/QuestionList.tsx"],
  "sourcesContent": ["module.exports = {};", "import { LoaderFunction } from \"@remix-run/node\";\r\nimport { Form, useFetcher, useLoaderData, useLocation } from \"@remix-run/react\";\r\nimport { getUserSession } from \"~/services/session.server\";\r\nimport { db } from \"~/utils/db.server\";\r\n\r\nexport default function Vote({ questionDetail }) {\r\n  let { user } = useLoaderData();\r\n  let questionId = questionDetail.id;\r\n  let likeCount = questionDetail.likes.length || 0;\r\n  let dislikeCount = questionDetail.dislikes.length || 0;\r\n  let questionFetcher = useFetcher();\r\n  const location = useLocation();\r\n  return (\r\n    <>\r\n      <questionFetcher.Form\r\n        action=\"/api/vote\"\r\n        method=\"post\"\r\n        style={{\r\n          display: \"flex\",\r\n          gap: 10,\r\n          opacity: questionFetcher.state !== \"idle\" ? 0.3 : 1,\r\n        }}\r\n      >\r\n        <input\r\n          type=\"hidden\"\r\n          name=\"redirectTo\"\r\n          value={location.pathname}\r\n        ></input>\r\n        <input\r\n          type=\"hidden\"\r\n          name=\"questionId\"\r\n          defaultValue={questionId}\r\n        ></input>\r\n        <button\r\n          name=\"_action\"\r\n          value=\"likeVote\"\r\n          disabled={!user}\r\n          type=\"submit\"\r\n          className=\"py-2 px-3 text-xs font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800\"\r\n        >\r\n          {likeCount} \uD83D\uDC4D\r\n        </button>\r\n        <button\r\n          name=\"_action\"\r\n          value=\"dislikeVote\"\r\n          type=\"submit\"\r\n          disabled={!user}\r\n          className=\"py-2 px-3 text-xs font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800\"\r\n        >\r\n          {dislikeCount}\uD83D\uDC4E\r\n        </button>\r\n      </questionFetcher.Form>\r\n    </>\r\n  );\r\n}\r\n", "import { Form, useFetcher, useLoaderData } from \"@remix-run/react\";\r\nimport { Editor } from \"@tiptap/react\";\r\nimport React from \"react\";\r\nimport Vote from \"./Vote\";\r\ntype QuestionProps = {\r\n  list: [\r\n    {\r\n      id: number;\r\n      topic: string;\r\n      postId: number;\r\n      topicId: number;\r\n      start: number;\r\n      end: number;\r\n      user: {\r\n        username: string;\r\n      };\r\n    }\r\n  ];\r\n  QuestionTitle: string;\r\n  editor: Editor;\r\n};\r\n\r\nexport default function QuestionList(props: QuestionProps) {\r\n  if (!props.list.length) return null;\r\n  return (\r\n    <div>\r\n      <h2 className=\"text-1xl font-bold underline\">{props.QuestionTitle}</h2>\r\n      {props.list\r\n        .sort((a, b) => b.topicId - a.topicId)\r\n        .map((l) => (\r\n          <div key={l.id}>\r\n            <EachQuestion props={props} l={l} />\r\n          </div>\r\n        ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction EachQuestion({ l, props, key }: any) {\r\n  const { user } = useLoaderData();\r\n  const deleteFetcher = useFetcher();\r\n  const replyFetcher = useFetcher();\r\n  let deleting = deleteFetcher.state !== \"idle\";\r\n  let showDeleteButton =\r\n    user?.isAdmin || user?.username === l?.createrUser?.username;\r\n\r\n  const handleMouseOver = (start: number, end: number) => {\r\n    if (props.editor) {\r\n      props.editor\r\n        .chain()\r\n        .focus()\r\n        .setTextSelection(start)\r\n        .scrollIntoView()\r\n        .run();\r\n    }\r\n  };\r\n  return (\r\n    <div\r\n      style={{\r\n        border: \"3px solid black\",\r\n        borderRadius: \"10px\",\r\n        background: \"#eee\",\r\n        marginBlock: 4,\r\n        padding: 4,\r\n        opacity: deleting ? 0.4 : 1,\r\n      }}\r\n      onMouseEnter={() => handleMouseOver(l.start, l.end)}\r\n    >\r\n      {l.topic} - {l.start} - {l.end}\r\n      <br />\r\n      <p>{l?.createrUser?.username}</p>\r\n      <a\r\n        style={{\r\n          textDecoration: \"none\",\r\n          cursor: \"pointer\",\r\n          width: \"100%\",\r\n        }}\r\n        className=\"bg-blue-500 hover:bg-blue-700 text-white px-2 rounded-full\"\r\n        target=\" _blank\"\r\n        href={`https://lopenling.org/t/${l.topicId}`}\r\n      >\r\n        visit discussion\r\n      </a>\r\n      <Vote questionDetail={l} />\r\n      {showDeleteButton && (\r\n        <deleteFetcher.Form method=\"post\" action=\"/api/question\">\r\n          <input type=\"hidden\" value={l.id} name=\"questionId\"></input>\r\n          <input type=\"hidden\" value={l.topicId} name=\"topicId\"></input>\r\n\r\n          <button\r\n            type=\"submit\"\r\n            name=\"_action\"\r\n            value=\"deleteQuestion\"\r\n            className=\"bg-blue-400 hover:bg-blue-700 text-white font-bold py-1 px-1 rounded\"\r\n            disabled={deleting}\r\n          >\r\n            {deleting ? \"deleting\" : \"delete\"}\r\n          </button>\r\n        </deleteFetcher.Form>\r\n      )}\r\n      <replyFetcher.Form method=\"post\" action=\"/api/question\">\r\n        <input hidden name=\"topicId\" defaultValue={l.topicId}></input>\r\n        <button\r\n          type=\"submit\"\r\n          name=\"_action\"\r\n          value=\"fetchReplies\"\r\n          className=\"bg-blue-400 hover:bg-blue-700 text-white font-bold py-1 px-1 rounded\"\r\n        >\r\n          replies\r\n        </button>\r\n      </replyFetcher.Form>\r\n      {replyFetcher.data && (\r\n        <div>\r\n          {\" \"}\r\n          <p>post on topic</p>\r\n          {replyFetcher.data.post_stream.posts.map((post: any) => {\r\n            return (\r\n              <div key={post.id}>\r\n                <a href={`https://lopenling.org/p/${post.id}`}>{post.id}</a>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],
  "mappings": "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",
  "names": ["import_jsx_dev_runtime"]
}
